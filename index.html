<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–í–∏—à–ª–∏—Å—Ç</title>
  <style>
    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:#fafafa;
      margin:0;
      color:#111;
    }
    header{
      max-width:1000px;
      margin:0 auto;
      padding:22px 16px 10px;
    }
    h1{ margin:0 0 8px; }
    .sub{
      color:#666;
      margin:0 0 14px;
      line-height:1.35;
    }
    .bar{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    input{
      flex:1;
      min-width:240px;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid #e5e5e5;
      background:#fff;
      font-size:16px;
    }
    .pill{
      padding:10px 12px;
      border-radius:999px;
      border:1px solid #e5e5e5;
      background:#fff;
      font-size:14px;
      color:#111;
      white-space:nowrap;
    }
    main{
      max-width:1000px;
      margin:0 auto;
      padding:0 16px 26px;
    }
    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
      gap:12px;
    }
    .card{
      background:#fff;
      border:1px solid #eee;
      border-radius:16px;
      padding:14px;
      overflow:hidden;
    }
    .img{
      width:100%;
      height:180px;
      object-fit:cover;
      border-radius:12px;
      margin-bottom:10px;
      background:#f2f2f2;
    }
    .row{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:10px;
      margin-bottom:8px;
    }
    .title{
      font-weight:800;
      margin:0;
      line-height:1.2;
    }
    .meta{
      color:#666;
      font-size:14px;
      margin:0 0 10px;
    }
    .desc{
      font-size:14px;
      color:#444;
      margin:6px 0 12px;
      line-height:1.45;
    }
    .badge{
      font-size:12px;
      padding:4px 8px;
      border-radius:999px;
      border:1px solid;
      white-space:nowrap;
      margin-top:2px;
    }
    .free{
      background:#eafff2;
      border-color:#b7f5cf;
      color:#067647;
    }
    .taken{
      background:#ffecec;
      border-color:#ffc7c7;
      color:#b42318;
    }
    .btns{
      display:flex;
      gap:10px;
    }
    a.btn, button.btn{
      flex:1;
      border-radius:12px;
      padding:10px 12px;
      border:1px solid #ddd;
      background:#fff;
      cursor:pointer;
      text-decoration:none;
      color:#111;
      font-size:15px;
    }
    a.btn.primary{
      background:#111;
      color:#fff;
      border-color:#111;
    }
    button.btn:disabled{
      opacity:.55;
      cursor:not-allowed;
    }
    footer{
      max-width:1000px;
      margin:0 auto;
      padding:0 16px 24px;
      color:#777;
      font-size:13px;
      line-height:1.4;
    }
  </style>
</head>

<body>
  <header>
    <h1>üéÅ –ú–æ–π –≤–∏—à–ª–∏—Å—Ç</h1>
    <p class="sub">
      –í—ã–±–∏—Ä–∞–π –ª—é–±–æ–π –ø–æ–¥–∞—Ä–æ–∫. –ï—Å–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∞ –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ ‚Äú–ó–∞–Ω—è—Ç–æ‚Äù ‚Äî –∑–Ω–∞—á–∏—Ç —É–∂–µ –∫—Ç–æ-—Ç–æ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–ª.
      <br>–ü–æ–∫–∞ –±—Ä–æ–Ω—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ (–Ω–∞ —ç—Ç–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ). –î–∞–ª—å—à–µ –ø–æ–¥–∫–ª—é—á–∏–º –Ω–∞—Å—Ç–æ—è—â—É—é –∞–Ω–æ–Ω–∏–º–Ω—É—é –±—Ä–æ–Ω—å.
    </p>

    <div class="bar">
      <input id="q" type="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é‚Ä¶ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –∫–Ω–∏–≥–∞ / —Å–µ—Ä—å–≥–∏ / —Ü–≤–µ—Ç—ã)" />
      <span class="pill" id="count">0 –ø–æ–∑–∏—Ü–∏–π</span>
    </div>
  </header>

  <main>
    <div class="grid" id="list"></div>
  </main>

  <footer>
    –ï—Å–ª–∏ —Å—Å—ã–ª–∫–∞ ‚Äú–ö—É–ø–∏—Ç—å‚Äù –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è ‚Äî –∑–Ω–∞—á–∏—Ç –º–∞–≥–∞–∑–∏–Ω –∫–∞–ø—Ä–∏–∑–Ω–∏—á–∞–µ—Ç, –∞ –Ω–µ —Ç—ã üòÑ
  </footer>

<script>
  // =========================
  // 1) –¢–í–û–ô –°–ü–ò–°–û–ö –ü–û–î–ê–†–ö–û–í
  //    –†–µ–¥–∞–∫—Ç–∏—Ä—É–π —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å
  // =========================
  const items = [
    {
      id: 1,
      title: "–ë—É–∫–µ—Ç —Ü–≤–µ—Ç–æ–≤",
      price: "~300 000 —Å—É–º",
      img: "https://images.unsplash.com/photo-1526045478516-99145907023c?auto=format&fit=crop&w=1200&q=80",
      desc: "–ù–µ–∂–Ω—ã–π –±—É–∫–µ—Ç (–ø–∏–æ–Ω—ã/—Ç—é–ª—å–ø–∞–Ω—ã/—Ä–æ–∑—ã ‚Äî —á—Ç–æ –Ω–∞–π–¥—ë—à—å –∫—Ä–∞—Å–∏–≤–æ–µ üíê).",
      buy: "https://example.com",
      status: "free"
    },
    {
      id: 2,
      title: "–ê–∫—Å–µ—Å—Å—É–∞—Ä (—Å–µ—Ä—å–≥–∏ / –±—Ä–∞—Å–ª–µ—Ç)",
      price: "~800 000 —Å—É–º",
      img: "https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?auto=format&fit=crop&w=1200&q=80",
      desc: "–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ. –°–µ—Ä–µ–±—Ä–æ –∏–ª–∏ –∑–æ–ª–æ—Ç–æ ‚Äî –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –æ–∫ ‚ú®",
      buy: "https://example.com",
      status: "free"
    },
    {
      id: 3,
      title: "–ö–Ω–∏–≥–∞ ‚Äî –ê–≥–∞—Ç–∞ –ö—Ä–∏—Å—Ç–∏ (–ª—é–±–æ–µ –∏–∑–¥–∞–Ω–∏–µ)",
      price: "~90 000 —Å—É–º",
      img: "https://images.unsplash.com/photo-1512820790803-83ca734da794?auto=format&fit=crop&w=1200&q=80",
      desc: "–ì–ª–∞–≤–Ω–æ–µ ‚Äî —Ö–æ—Ä–æ—à–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ —á—Ç–æ–±—ã —á–∏—Ç–∞–ª–æ—Å—å –ø—Ä–∏—è—Ç–Ω–æ üìö",
      buy: "https://example.com",
      status: "free"
    }
  ];

  // =========================
  // 2) –†–ï–ù–î–ï–† + –ü–û–ò–°–ö
  // =========================
  const list = document.getElementById('list');
  const q = document.getElementById('q');
  const count = document.getElementById('count');

  function badge(status){
    return status === "taken"
      ? `<span class="badge taken">–ó–∞–Ω—è—Ç–æ</span>`
      : `<span class="badge free">–°–≤–æ–±–æ–¥–Ω–æ</span>`;
  }

  function cardHTML(x){
    const disabled = x.status === "taken" ? "disabled" : "";
    const safeImg = x.img || "https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&w=1200&q=80";

    return `
      <div class="card" data-title="${(x.title||"").toLowerCase()}">
        <img class="img" src="${safeImg}" alt="${x.title || "–ø–æ–¥–∞—Ä–æ–∫"}" loading="lazy" />
        <div class="row">
          <p class="title">${x.title || ""}</p>
          ${badge(x.status)}
        </div>
        <p class="meta">${x.price || ""}</p>
        <p class="desc">${x.desc || ""}</p>
        <div class="btns">
          <a class="btn primary" href="${x.buy || "#"}" target="_blank" rel="noopener">–ö—É–ø–∏—Ç—å</a>
          <button class="btn" ${disabled} onclick="demoReserve(${x.id})">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
      </div>
    `;
  }

  function render(){
    const term = (q.value || "").trim().toLowerCase();
    const filtered = items.filter(x => (x.title||"").toLowerCase().includes(term));
    list.innerHTML = filtered.map(cardHTML).join("");
    count.textContent = `${filtered.length} –ø–æ–∑–∏—Ü–∏–π`;
  }

  q.addEventListener('input', render);

  // =========================
  // 3) –î–ï–ú–û-–ë–†–û–ù–¨
  // (–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏)
  // =========================
  function demoReserve(id){
    const it = items.find(x => x.id === id);
    if(!it || it.status === "taken") return;
    it.status = "taken";
    render();
    alert("‚úÖ –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ (–¥–µ–º–æ). –ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî –ø–æ–¥–∫–ª—é—á–∏–º –Ω–∞—Å—Ç–æ—è—â—É—é –∞–Ω–æ–Ω–∏–º–Ω—É—é –±—Ä–æ–Ω—å, —á—Ç–æ–±—ã –≤—Å–µ–º –±—ã–ª–æ –≤–∏–¥–Ω–æ –æ–Ω–ª–∞–π–Ω.");
  }

  render();
</script>

</body>
</html>
